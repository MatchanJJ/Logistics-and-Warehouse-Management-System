<head>
    
    <link rel="stylesheet" href="sweetalert2.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

    <a href="/">
        <img class="home" src="/home-button.png" alt="home">
    </a>
    <a href="/warehouse-logs">
        <img class="home" src="/log.png" alt="log">
    </a>
    <a href="/warehouse-archives">
        <img class="home" src="/inbox.png" alt="archive">
    </a>
    <div class="flexer">
        <h2>Warehouse List</h2>
    </div>
    <div class="button-group">
        <a  class="btn btn-warning" href="/add-warehouse" role="button">Add Warehouse</a>
        <a href="/manage-partner" class="btn btn-warning">Manage Logistics Partner</a>
        <a href="/check-availability" class="btn btn-warning">Check Warehouse Availability</a>
    </div>
    
    <% if (warehouses && warehouses.length > 0) { %>
        <table class="table table-dark table-striped">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Location</th>
                    <th>Total Capacity</th>
                    <th>Current Capacity Used</th>
                    <th>Available Capacity</th>
                    <th>Warehouse Type</th>
                    <th>TimeStamp</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                <% warehouses.forEach(warehouse => { %>
                <tr>
                    <td><%= warehouse.warehouse_id %></td>
                    <td><%= warehouse.warehouse_address %></td>
                    <td><%= warehouse.total_capacity %></td>
                    <td><%= warehouse.current_capacity_used %></td>
                    <td><%= warehouse.total_capacity - warehouse.current_capacity_used %></td>
                    <td><%= warehouse.warehouse_type_name %></td>
                    <td></td>
                    <td class="action buttons">
                        <a href="/update-warehouse/<%= warehouse.warehouse_id %>" class="btn btn-info">Update</a> 
                        <form action="/delete-warehouse/<%= warehouse.warehouse_id %>" method="POST" style="display:inline;">
                            <button type="button" onclick="return confirm('Are you sure you want to remove this warehouse?')" class="btn btn-danger">Delete</button>
                        </form>
                    </td>
                </tr>
                <% }) %>
            </tbody>
        </table>
    <% } else { %>
        <p>No warehouses found.</p>
    <% } %>
    
</head>